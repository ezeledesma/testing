<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	Prueba:
	<input id="campo" type="password">

	<input type="file" accept="image/*" capture="camera" />
	
	<input type="button" value="Probar" onclick="prueba()">

	<script>

		// check compatibility
		if (!("BarcodeDetector" in globalThis)) {
			alert("Barcode Detector is not supported by this browser.");
		} else {
			alert("Barcode Detector supported!");
			// create new detector
			const barcodeDetector = new BarcodeDetector({
				formats: ["code_39", "codabar", "ean_13"],
			});

			// check supported types
			BarcodeDetector.getSupportedFormats().then((supportedFormats) => {
			supportedFormats.forEach((format) => alert(format));
			});
		}

		function keyControl () {
			if(!KeyboardEvent.ctrlKey) {
				document.getElementById("campo").focus();
			}
		}

		function prueba () {

			try {

				const barcodeDetector = new BarcodeDetector({
					formats: ["code_39", "codabar", "ean_13"],
				});

				alert(barcodeDetector);

				barcodeDetector
				.detect(imageEl)
				.then((barcodes) => {
				barcodes.forEach((barcode) => alert(barcode.rawValue));
				})
				.catch((err) => {
				alert(err);
				});
			}
			catch (ev) {
				alert(ev);
			}


		}

		document.body.addEventListener("keypress", (e) => keyControl(e));
	</script>
</body>
</html>